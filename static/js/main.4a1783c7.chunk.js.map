{"version":3,"sources":["components/ProtectedRoute.js","contexts/CurrentUserContext.js","utils/api.js","utils/auth.js","components/NavBar.js","components/Header.js","components/Card.js","components/Main.js","components/SignIn.js","components/SignUp.js","components/InfoTooltip.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ConfirmPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","CurrentUserContext","createContext","api","config","this","_headers","authorization","_url","url","_cardsUrl","cardsUrl","_cardsLikesUrl","cardsLikesUrl","_userAvatarUrl","userAvatarUrl","_userInfoUrl","userInfoUrl","_errorText","errorText","fetch","method","headers","then","_checkServerResponse","Promise","all","getUserInfo","getCards","userData","body","JSON","stringify","name","about","link","avatar","cardData","_id","cardId","isLiked","res","ok","json","reject","status","authUrl","checkServerResponse","NavBar","btnMenuActive","userEmail","quit","className","path","exact","onClick","Header","onQuit","useState","setBtnMenuActive","history","useHistory","type","localStorage","removeItem","push","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","style","backgroundImage","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","aria-label","map","SignIn","handleSignIn","onLoading","isLoading","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","login","setItem","token","catch","err","console","log","finally","placeholder","minLength","maxLength","value","required","onChange","target","SignUp","onInfoTooltipOpen","setIsSuccessSignUp","registration","InfoTooltip","isOpen","isSuccess","onClose","PopupWithForm","title","children","buttonText","buttonTextLoading","currentTarget","id","noValidate","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","event","EditAvatarPopup","onUpdateAvatar","avaRef","useRef","current","ref","ConfirmPopup","onDelete","AddPlacePopup","cardTitle","setCardTitle","cardLink","setCardLink","ImagePopup","alt","src","Footer","currentYear","Date","getFullYear","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isDeletePopupOpen","setIsDeletePopupOpen","isSuccessSignUp","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserEmail","setLoading","checkToken","jwt","getItem","Authorization","data","closeAllPopups","handleEscClose","key","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","state","c","user","profile","setUserInfo","setUserAvatar","addNewCard","removeCard","filter","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a1783c7.chunk.js","sourcesContent":["import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to='./sign-in' />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\n\nexport default CurrentUserContext;","class Api {\n  constructor(config) {\n    this._headers = {\n      authorization: config.authorization,\n      'Content-Type': 'application/json'\n    };\n    this._url = config.url;\n    this._cardsUrl = config.cardsUrl;\n    this._cardsLikesUrl = config.cardsLikesUrl;\n    this._userAvatarUrl = config.userAvatarUrl;\n    this._userInfoUrl = config.userInfoUrl;\n    this._errorText = config.errorText;\n  }\n\n  //get user info\n  getUserInfo() {\n    return fetch(`${this._url}${this._userInfoUrl}`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //get all cards\n  getCards() {\n    return fetch(`${this._url}${this._cardsUrl}`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //get all data\n  getAllData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }\n\n  //set user info\n  setUserInfo(userData) {\n    return fetch(`${this._url}${this._userInfoUrl}`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //set user avatar\n  setUserAvatar(link) {\n    return fetch(`${this._url}${this._userAvatarUrl}`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //new card\n  addNewCard(cardData) {\n    return fetch(`${this._url}${this._cardsUrl}`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link\n      })\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //remove card\n  removeCard(cardData) {\n    return fetch(`${this._url}${this._cardsUrl}/${cardData._id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse)\n  }\n\n  //change like card status\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}${this._cardsLikesUrl}${cardId}`, {\n        method: isLiked ? 'PUT' : 'DELETE',\n        headers: this._headers\n      })\n      .then(this._checkServerResponse)\n  }\n\n  //check response from server\n  _checkServerResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`${this._errorText} ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nconst api = new Api({\n  authorization: '08402336-c176-4b17-bc07-4e156c9de6bc',\n  url: 'https://mesto.nomoreparties.co/v1/cohort-21',\n  cardsUrl: '/cards',\n  cardsLikesUrl: '/cards/likes/',\n  userAvatarUrl: '/users/me/avatar',\n  userInfoUrl: '/users/me',\n  errorText: 'Ошибка:'\n});\n\nexport default api;","const authUrl = 'https://auth.nomoreparties.co';\r\n\r\nexport const registration = (email, password) => {\r\n  return fetch(`${authUrl}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then(res => checkServerResponse(res))\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${authUrl}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then(res => checkServerResponse(res))\r\n};\r\n\r\nexport const getMe = (token) => {\r\n  return fetch(`${authUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then(res => checkServerResponse(res))\r\n};\r\n\r\nfunction checkServerResponse(res) {\r\n  if (!res.ok) {\r\n    return Promise.reject(`${this._errorText} ${res.status}`);\r\n  }\r\n  return res.json();\r\n}","import { Route, Link } from 'react-router-dom';\r\n\r\nfunction NavBar ({ btnMenuActive, userEmail, quit }) {\r\n\r\n  return (\r\n    <div className={`header__block-sign ${btnMenuActive ? 'header__block-sign_opened' : ''}`}>\r\n      <Route path='/signup'>\r\n        <Link className='header__link' to={'/signin'}>\r\n          <p className='header__text-link'>Войти</p>\r\n        </Link>\r\n      </Route>\r\n      <Route path='/signin'>\r\n        <Link className='header__link' to={'/signup'}>\r\n          <p className='header__text-link'>Регистрация</p>\r\n        </Link>\r\n      </Route>\r\n      <Route exact path='/'>\r\n        <p className='header__text'>{userEmail}</p>\r\n        <Link className='header__link' to='/' onClick={quit}>\r\n          <p className='header__text-link header__text-link_type_exit'>Выйти</p>\r\n        </Link>\r\n      </Route>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport NavBar from './NavBar';\n\nfunction Header({ userEmail, onQuit }) {\n  const [btnMenuActive, setBtnMenuActive] = useState(false);\n  const history = useHistory();\n\n  const quit = () => {\n    onQuit();\n    localStorage.removeItem('jwt');\n    history.push('/signin');\n  };\n\n  const handleSetBtnMenuActive = () => {\n    setBtnMenuActive(!btnMenuActive);\n  };\n\n  return (\n    <header className='header root__header'>\n      <>\n        <div className='header__block-logo'>\n          <Link className='header__link' to='/'>\n            <div className='header__logo'></div>\n          </Link>\n          <button\n            className={`header__menu-button\n            ${btnMenuActive ?\n              'header__menu-button_state_close'\n              : ''}`}\n            type='button'\n            onClick={handleSetBtnMenuActive}\n          />\n        </div>\n        <NavBar\n          btnMenuActive={btnMenuActive}\n          userEmail={userEmail}\n          quit={quit}/>\n      </>\n    </header>\n  );\n}\n\nexport default Header;","import { useContext } from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `card__bin ${isOwn ? 'card__bin__visible' : ''}`\r\n  );\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like ${isLiked ? 'card__like_state_liked' : ''}`\r\n  );\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card)\r\n  }\r\n\r\n  function handleDeleteCard() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  return(\r\n    <li className='card'>\r\n      <div className='card__image' style={{ backgroundImage: `url(${card.link})` }} onClick={handleCardClick}/>\r\n      <button className={cardDeleteButtonClassName} type='button' onClick={handleDeleteCard}/>\r\n      <h2 className='card__title'>{card.name}</h2>\r\n      <div className='card__like-container'>\r\n        <button className={cardLikeButtonClassName} type='button' onClick={handleCardLike}/>\r\n        <span className='card__like-count'>{card.likes.length}</span>\r\n      </div>\r\n  </li>\r\n  )\r\n}\r\n\r\nexport default Card;","import { useContext } from 'react';\nimport Card from './Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className='content'>\n      <section className='profile root__profile'>\n        <button className='profile__avatar'\n          type='button'\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={onEditAvatar}>\n        </button>\n        <div className='profile__line'>\n          <h1 className='profile__name'>{currentUser.name}</h1>\n          <button\n            type='button'\n            className='profile__edit-button'\n            onClick={onEditProfile}>\n          </button>\n        </div>\n        <p className='profile__job'>{currentUser.about}</p>\n        <button\n          type='button'\n          className='profile__add-button'\n          onClick={onAddPlace}>\n        </button>\n      </section>\n\n      <section className='cards' aria-label='Cards'>\n        <ul className='gallery'>\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { login } from '../utils/auth.js';\r\n\r\nfunction SignIn({ handleSignIn, onLoading, isLoading }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onLoading(true);\r\n    login (email, password)\r\n      .then((res) => {\r\n        handleSignIn();\r\n        localStorage.setItem('jwt', res.token);\r\n        history.push('/');\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => onLoading(false));\r\n  };\r\n\r\n  return (\r\n    <div className='sign root__sign'>\r\n      <h2 className='sign__title'>Вход</h2>\r\n      <form className='form form_type_sign' onSubmit={handleSubmit}>\r\n        <fieldset className='sign__auth-box'>\r\n          <input\r\n            type='email'\r\n            name='signin-email'\r\n            className='form__input form__input_place_sign'\r\n            placeholder='Email'\r\n            minLength='5'\r\n            maxLength='40'\r\n            value={email}\r\n            required={true}\r\n            onChange={(evt) => setEmail(evt.target.value)}\r\n          />\r\n          <input\r\n            type='password'\r\n            name='signin-password'\r\n            className='form__input form__input_place_sign'\r\n            placeholder='Пароль'\r\n            minLength='3'\r\n            maxLength='40'\r\n            value={password}\r\n            required={true}\r\n            onChange={(evt) => setPassword(evt.target.value)}\r\n          />\r\n        </fieldset>\r\n        <fieldset className='sign__auth-box'>\r\n          <button\r\n            type='submit'\r\n            className={`form__submit-button form__submit-button_place_sign\r\n              ${isLoading ?\r\n              'form__submit-button_loading-black-icon'\r\n              : ''}`}>\r\n              {isLoading ?\r\n              'Вход...'\r\n              : 'Войти'}\r\n          </button>\r\n          <Link className='sign__link' to='/signup'>\r\n            Ещё не зарегистрированы? Регистрация\r\n          </Link>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { registration } from '../utils/auth';\r\n\r\nfunction SignUp ({ onInfoTooltipOpen, setIsSuccessSignUp, onLoading, isLoading }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onLoading(true)\r\n    registration(email, password)\r\n      .then((res) => {\r\n        history.push('/');\r\n        setIsSuccessSignUp(true)\r\n      })\r\n      .catch((err) => {\r\n        setIsSuccessSignUp(false);\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        onInfoTooltipOpen(true);\r\n        onLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='sign root__sign'>\r\n      <h2 className='sign__title'>Регистрация</h2>\r\n      <form className='form form_type_sign' onSubmit={handleSubmit}>\r\n        <fieldset className='sign__auth-box'>\r\n          <input\r\n            type='email'\r\n            name='signup-email'\r\n            className='form__input form__input_place_sign'\r\n            placeholder='Email'\r\n            minLength='5'\r\n            maxLength='40'\r\n            value={email}\r\n            required={true}\r\n            onChange={(evt) => setEmail(evt.target.value)}\r\n          />\r\n          <input\r\n            type='password'\r\n            name='signup-password'\r\n            className='form__input form__input_place_sign'\r\n            placeholder='Пароль'\r\n            minLength='3'\r\n            maxLength='40'\r\n            value={password}\r\n            required={true}\r\n            onChange={(evt) => setPassword(evt.target.value)}\r\n          />\r\n        </fieldset>\r\n        <fieldset className='sign__auth-box'>\r\n          <button\r\n            type='submit'\r\n            className={`form__submit-button form__submit-button_place_sign\r\n              ${isLoading ?\r\n              'form__submit-button_loading-black-icon'\r\n              : ''}`}>\r\n              {isLoading ?\r\n              'Регистрация...'\r\n              : 'Зарегистрироваться'}\r\n          </button>\r\n          <Link className='sign__link' to='/signin'>\r\n            Уже зарегистрированы? Войти\r\n          </Link>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","function InfoTooltip ({ isOpen, isSuccess, onClose }) {\r\n  return (\r\n    <div className={`popup popup popup_place_tooltip ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className='popup__container'>\r\n        <button\r\n          type='button'\r\n          className='popup__close-button'\r\n          onClick={onClose}\r\n          aria-label='Закрыть'>\r\n        </button>\r\n        <div className={`popup__sign-icon\r\n          ${isSuccess ?\r\n          'popup__sign-icon_type_success'\r\n          : 'popup__sign-icon_type_fail'}`}>\r\n        </div>\r\n        <h2 className='popup__title'>\r\n          {isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;","function PopupWithForm ({ isOpen, onClose, name, title, children, buttonText, buttonTextLoading, onSubmit, isLoading }) {\n\n  function handleClickClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n\n  return (\n    <div\n      onClick={handleClickClose}\n      className={(isOpen ? `popup popup_place_${name}\n        popup_opened` :\n        `popup popup_place_${name}`)}>\n      <div className='popup__container'>\n        <button\n          type='button'\n          className='popup__close-button'\n          onClick={onClose}\n          aria-label='Закрыть'>\n        </button>\n        <form\n          id={`form_place_${name}`}\n          className={`form form_place_${name}`}\n          name={`form__${name}`}\n          noValidate\n          onSubmit={onSubmit}>\n            <h2 className='form__title'>{title}</h2>\n            <fieldset className='form__input-container'>\n              {children}\n              <button\n              type='submit'\n              className={`form__submit-button\n                ${isLoading ?\n                'form__submit-button_loading-white-icon'\n                : ''}`}>\n                {isLoading ?\n                buttonTextLoading\n                : buttonText}\n              </button>\n            </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import { useState, useContext, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen])\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  function handleUserName(event) {\n    setName(event.target.value)\n  }\n\n  function handleUserDescription(event) {\n    setDescription(event.target.value)\n  }\n\n  return (\n    <PopupWithForm\n      name='edit'\n      title='Редактировать профиль'\n      buttonText='Сохранить'\n      buttonTextLoading='Сохранение...'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}>\n        <input\n          id='form__input_string_name'\n          className='form__input form__input_string_name'\n          name='name'\n          type='text'\n          placeholder='Имя'\n          minLength='2'\n          maxLength='40'\n          required\n          value={name ? name : ''}\n          onChange={handleUserName}/>\n        <span\n          id='form__input_string_name-error'\n          className='form__input-error'/>\n        <input\n          id='form__input_string_job'\n          className='form__input form__input_string_job'\n          name='about'\n          type='text'\n          placeholder='О себе'\n          minLength='2'\n          maxLength='200'\n          required\n          value={description ? description : ''}\n          onChange={handleUserDescription}/>\n        <span\n          id='form__input_string_job-error'\n          className='form__input-error'/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import { useRef, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  const avaRef = useRef(null);\n\n  useEffect(() => {\n    avaRef.current.value = '';\n  }, [isOpen])\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avaRef.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm\n      name='avatar'\n      title='Обновить аватар'\n      buttonText='Сохранить'\n      buttonTextLoading='Сохранение...'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}>\n        <input\n          id='form__input_string_avatar'\n          className='form__input form__input_string_avatar'\n          type='url'\n          name='link'\n          placeholder='Ссылка на картинку'\n          required\n          ref={avaRef}/>\n        <span\n          id='form__input_string_avatar-error'\n          className='form__input-error'/>\n      </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ card, onDelete, isOpen, onClose, isLoading }) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='confirm'\r\n      title='Вы уверены?'\r\n      buttonText='Да'\r\n      buttonTextLoading='Удаление...'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default ConfirmPopup;","import { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup ({ isOpen, onClose, onAddPlace, isLoading }) {\n  const [cardTitle, setCardTitle] = useState('');\n  const [cardLink, setCardLink] = useState('');\n\n  function handleCardTitle(event) {\n    setCardTitle(event.target.value)\n  }\n\n  function handleCardLink(event) {\n    setCardLink(event.target.value)\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    onAddPlace({\n      name: cardTitle,\n      link: cardLink\n    })\n  }\n\n  useEffect(() => {\n    setCardLink('')\n    setCardTitle('')\n  }, [isOpen])\n\n  return(\n    <PopupWithForm\n      name='add'\n      title='Новое место'\n      buttonText='Создать'\n      buttonTextLoading='Создание...'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}>\n        <input\n          id='form__input_string_title'\n          className='form__input form__input_string_title'\n          type='text'\n          name='name'\n          placeholder='Название'\n          minLength='2'\n          maxLength='30'\n          required\n          onChange={handleCardTitle}\n          value={cardTitle ? cardTitle : ''}/>\n        <span\n          id='form__input_string_title-error'\n          className='form__input-error'/>\n        <input\n          id='form__input_string_link'\n          className='form__input form__input_string_link'\n          type='url'\n          name='link'\n          placeholder='Ссылка на картинку'\n          required\n          onChange={handleCardLink}\n          value={cardLink ? cardLink : ''}/>\n        <span\n          id='form__input_string_link-error'\n          className='form__input-error'/>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","function ImagePopup ({ isOpen, card, onClose }) {\n  function handleClickClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n  return(\n    <div\n      className={`popup popup_place_img ${isOpen && 'popup_opened'}`}\n      onClick={handleClickClose}>\n      <div className='popup__image-container'>\n        <button className='popup__close-button popup__close-button_place_img' type='button' onClick={onClose}/>\n        <figure className='popup__figure'>\n          <img className='popup__image' alt={card?.name} src={card?.link}/>\n          <figcaption className='popup__description'>{card?.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import { Route } from 'react-router-dom';\n\nfunction Footer() {\n  const currentYear = new Date().getFullYear();\n  return (\n    <>\n      <Route exact path='/'>\n        <footer className='footer root__footer' aria-label='Footer'>\n          <p className='footer__copyright'>&copy; {currentYear} Артем Мезенов</p>\n        </footer>\n      </Route>\n    </>\n  );\n}\n\nexport default Footer;\n","import {useState, useEffect} from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport { getMe } from '../utils/auth';\nimport Header from './Header';\nimport Main from './Main';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport InfoTooltip from './InfoTooltip';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup'\nimport Footer from './Footer';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isSuccessSignUp, setIsSuccessSignUp] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [isLoading, setLoading] = useState(false);\n\n  const history = useHistory();\n\n  const handleSignIn = () => {\n    setLoggedIn(true);\n  };\n\n  function handleSignOut() {\n    setLoggedIn(false);\n  }\n\n  const checkToken = () => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      getMe(jwt)\n        .then((res) => {\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          history.push('/');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  useEffect(() => {\n    api.getCards()\n      .then(res => {\n        setCards(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleAddPlace(card) {\n    setLoading(true);\n    api.addNewCard(card)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleCardDelete(card) {\n    setLoading(true);\n    api.removeCard(card)\n      .then(() => {\n        setCards(cards.filter(item => item._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res)\n      })\n      .catch(err => console.log(err));\n  }, [])\n\n  function handleUpdateUser(user) {\n    setLoading(true);\n    const profile = {\n      name: user.name,\n      about: user.about\n    };\n    api.setUserInfo(profile)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleUpdateAvatar(user) {\n    setLoading(true);\n    api.setUserAvatar(user.avatar)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleDeleteClick(card) {\n    setSelectedCard(card);\n    setIsDeletePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeletePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null)\n  }\n\n  useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n  }, [])\n\n  useEffect(() => {\n    checkToken();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='app'>\n        <div className='root'>\n          <Header\n            userEmail={userEmail}\n            onQuit={handleSignOut} />\n            <Switch>\n              <ProtectedRoute\n                exact path='/'\n                loggedIn={loggedIn}\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                cards={cards}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick} />\n              <Route path='/signup'>\n                <SignUp\n                  onInfoTooltipOpen={setIsInfoTooltipOpen}\n                  setIsSuccessSignUp={setIsSuccessSignUp}\n                  onLoading={setLoading}\n                  isLoading={isLoading} />\n              </Route>\n              <Route path='/signin'>\n                <SignIn handleSignIn = {handleSignIn}\n                onLoading={setLoading}\n                isLoading={isLoading} />\n              </Route>\n              <Route>\n                {loggedIn ? (\n                  <Redirect to='/' />\n                ) : (\n                  <Redirect to='/signin' />\n                )}\n              </Route>\n            </Switch>\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading} />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading} />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n            isLoading={isLoading} />\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            card={selectedCard}\n            onClose={closeAllPopups} />\n          <ConfirmPopup\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            onDelete={handleCardDelete}\n            card={selectedCard}\n            isLoading={isLoading} />\n          <InfoTooltip\n            isOpen={isInfoTooltipOpen}\n            isSuccess={isSuccessSignUp}\n            onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}